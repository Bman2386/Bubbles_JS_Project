!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}i.r(e);var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=this.play.bind(this),this.stop=this.stop.bind(this)}var e,i,n;return e=t,(i=[{key:"play",value:function(){this.sound.play()}},{key:"stop",value:function(){this.sound.pause()}}])&&s(e.prototype,i),n&&s(e,n),t}();function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.bubbleWidth=20,this.bubbleHeight=20,this.bubbleHealth=20,this.bubbleX=450,this.bubbleY=200,this.xDirection=0,this.yDirection=0,this.score=0,this.sound=new n("src/gameFiles/sounds/pop.mp3"),this.boostSound=new n("src/gameFiles/sounds/boost.mp3"),this.mute=!1,this.imgSrc="./images/bubble.png",this.drawBubble=this.drawBubble.bind(this),this.moveBubble=this.moveBubble.bind(this),this.keyDownHandler=this.keyDownHandler.bind(this),this.keyUpHandler=this.keyUpHandler.bind(this),this.stopBubble=this.stopBubble.bind(this),document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1)}var e,i,s;return e=t,(i=[{key:"drawBubble",value:function(t){var e=new Image;e.src=this.imgSrc,this.bubbleSize(this.bubbleHealth),t.drawImage(e,this.bubbleX,this.bubbleY,this.bubbleWidth,this.bubbleHeight)}},{key:"bubbleSize",value:function(t){2===t?(this.bubbleHeight=50,this.bubbleWidth=50,this.imgSrc="./images/bubble.png"):t<2?(this.bubbleHeight=20,this.bubbleWidth=20,this.imgSrc="./images/bubble.png"):t>30&&(this.bubbleHeight=50,this.bubbleWidth=50,this.imgSrc="./images/shield.jpg")}},{key:"newPos",value:function(){this.bubbleX+=this.xDirection,this.bubbleY+=this.yDirection,this.detectBorders()}},{key:"detectBorders",value:function(){this.bubbleX<3&&(this.bubbleX=4),this.bubbleX>884&&(this.bubbleX=882),this.bubbleY>480&&(this.bubbleY=478),this.bubbleY<3&&(this.bubbleY=4)}},{key:"moveBubble",value:function(t){switch(t){case"left":this.xDirection=-2;break;case"right":this.xDirection=2;break;case"up":this.yDirection=-2;break;case"down":this.yDirection=2;break;case"boost":!this.mute&&this.boostSound.play(),this.xDirection*=5,this.yDirection*=5}}},{key:"stopBubble",value:function(t){"horizontal"===t&&(this.xDirection=0),"vertical"===t&&(this.yDirection=0)}},{key:"keyDownHandler",value:function(t){t.preventDefault(),"a"==t.key||"KeyA"==t.key?this.moveBubble("left"):"d"==t.key||"KeyD"==t.key?this.moveBubble("right"):"w"==t.key||"KeyW"==t.key?this.moveBubble("up"):"s"==t.key||"KeyS"==t.key?this.moveBubble("down"):(" "==t.key||"SpaceBar"==t.key)&&this.bubbleHealth>30&&this.moveBubble("boost")}},{key:"keyUpHandler",value:function(t){t.preventDefault(),"a"==t.key||"KeyA"==t.key||"d"==t.key||"KeyD"==t.key?this.stopBubble("horizontal"):"w"!=t.key&&"KeyW"!=t.key&&"s"!=t.key&&"KeyS"!=t.key||this.stopBubble("vertical")}}])&&h(e.prototype,i),s&&h(e,s),t}();function a(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.height=25,this.width=25,this.x=Math.floor(Math.random()*Math.floor(900)),this.y=Math.floor(Math.random()*Math.floor(500)),this.drawClip=this.drawClip.bind(this),this.imgSrc="./images/paperclip.png"}var e,i,s;return e=t,(i=[{key:"drawClip",value:function(t){var e=new Image;e.src=this.imgSrc,t.drawImage(e,this.x,this.y,this.height,this.width)}}])&&a(e.prototype,i),s&&a(e,s),t}();function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.height=40,this.width=40,this.x=250,this.y=150,this.drawBubbles=this.drawBubbles.bind(this),this.bubblesSrc="./images/bubbles.jpg"}var e,i,s;return e=t,(i=[{key:"drawBubbles",value:function(t,e,i){var s=new Image;s.src=this.bubblesSrc,t.drawImage(s,this.x,this.y,this.height,this.width),this.move(e,i)}},{key:"move",value:function(t,e){this.x=t,this.y=e}}])&&r(e.prototype,i),s&&r(e,s),t}();function b(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.height=75,this.width=75,this.y=Math.floor(Math.random()*Math.floor(200)),this.x=0,this.drawBird=this.drawBird.bind(this)}var e,i,s;return e=t,(i=[{key:"drawBird",value:function(t){var e=new Image;e.src="images/bird.jpg",t.drawImage(e,this.x,this.y,this.width,this.height),this.x+=7}}])&&b(e.prototype,i),s&&b(e,s),t}();function d(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var p=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.height=50,this.width=50,this.x=0,this.y=0,this.drawCloud=this.drawCloud.bind(this)}var e,i,s;return e=t,(i=[{key:"drawCloud",value:function(t,e,i){var s=new Image;s.src="./images/cloud.jpg",t.drawImage(s,this.x,this.y,this.width,this.height),this.cloudPositionSetter(e,i)}},{key:"cloudPositionSetter",value:function(t,e){this.x=t,this.y=e}}])&&d(e.prototype,i),s&&d(e,s),t}();function y(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var f=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.height=50,this.width=50,this.x,this.y,this.poopSrc="./images/poop.jpg",this.drawPoop=this.drawPoop.bind(this)}var e,i,s;return e=t,(i=[{key:"drawPoop",value:function(t){var e=new Image;e.src=this.poopSrc,t.drawImage(e,this.x,this.y,this.height,this.width),this.fall()}},{key:"startPosition",value:function(t,e){this.x=t,this.y=e}},{key:"fall",value:function(){this.y+=5}}])&&y(e.prototype,i),s&&y(e,s),t}();function m(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var g=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.width=50,this.height=50,this.x=Math.floor(Math.random()*Math.floor(800)),this.y=0,this.drawShield=this.drawShield.bind(this),this.imgSrc="./images/shield.jpg"}var e,i,s;return e=t,(i=[{key:"drawShield",value:function(t){var e=new Image;e.src=this.imgSrc,t.drawImage(e,this.x,this.y,this.height,this.width),this.fall()}},{key:"fall",value:function(){this.y+=3}}])&&m(e.prototype,i),s&&m(e,s),t}();function v(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var w=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=document.getElementById("myCanvas");this.ctx=s.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.width=200,this.height=200,this.bossHealth=300,this.x=200,this.y=75,this.imgSrc="./images/spaceship.jpg",this.drawBoss=this.drawBoss.bind(this),this.direction="right"}var e,i,s;return e=t,(i=[{key:"drawBoss",value:function(t){var e=new Image;e.src=this.imgSrc,t.drawImage(e,this.x,this.y,this.width,this.height),this.healthBar()}},{key:"healthBar",value:function(){var t=this.y-20;this.ctx.beginPath(),this.ctx.rect(this.x,t,300,20),this.ctx.fillStyle="#FF0000",this.ctx.fill(),this.ctx.beginPath(),this.ctx.rect(this.x,t,this.bossHealth,20),this.ctx.fillStyle="#339933",this.ctx.fill()}},{key:"bossMove",value:function(){"right"===this.direction&&(this.x+=10),"left"===this.direction&&(this.x-=10),this.boundry()}},{key:"boundry",value:function(){this.x>700?this.direction="left":this.x<-20&&(this.direction="right")}}])&&v(e.prototype,i),s&&v(e,s),t}();function k(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.canvasWidth=e.width,this.canvasHeight=e.height,this.bubble=new o(this.canvasWidth,this.canvasHeight),this.boss=new w,this.birds=[],this.clouds=[],this.bubbles=[],this.clips=[],this.poops=[],this.shield=[],this.deadX,this.deadY,this.bossFrame=0,this.cloudFrame=0,this.poopFrame=0,this.shieldFrame=0,this.protectedFrame=0,this.playerIsProtected=!1,this.win=!1,this.playing=!1,this.soundOn=!1,this.winSound=new n("src/gameFiles/sounds/win.mp3"),this.loseSound=new n("src/gameFiles/sounds/lose.mp3"),this.fartSound=new n("src/gameFiles/sounds/fart.mp3"),this.bubblesSound=new n("src/gameFiles/sounds/bubbles.mp3"),this.birdSound=new n("src/gameFiles/sounds/bird.mp3"),this.deadSound=new n("src/gameFiles/sounds/dead.mp3"),this.gameMusic=new n("src/gameFiles/sounds/game.mp3"),this.bossMusic=new n("src/gameFiles/sounds/boss.mp3"),this.scoreCount=document.getElementById("score"),this.gameOver=this.gameOver.bind(this),this.gameUpdate=this.gameUpdate.bind(this),this.restart=this.restart.bind(this),this.endGame=this.endGame.bind(this),this.mute=this.mute.bind(this),this.updateScore=this.updateScore.bind(this),this.muteDisplay=this.muteDisplay.bind(this),this.deleteItem=this.deleteItem.bind(this),this.clipCollision=this.clipCollision.bind(this),this.birdCollision=this.birdCollision.bind(this),this.poopCollision=this.poopCollision.bind(this),this.bossCollision=this.bossCollision.bind(this),this.bubblesCollision=this.bubblesCollision.bind(this),this.shieldCollision=this.shieldCollision.bind(this),this.detectAnyCollision=this.detectAnyCollision.bind(this)}var e,i,s;return e=t,(i=[{key:"restart",value:function(){this.frameId&&cancelAnimationFrame(this.frameId),this.playing=!0,this.win=!1,this.bubble.bubbleX=450,this.bubble.bubbleY=200,this.bubble.bubbleHealth=2,this.boss.bossHealth=300,this.bubble.score=0,this.clips=[],this.shields=[],this.birds=[],this.poops=[],this.bubbles=[],this.bubble.drawBubble(this.bubble.ctx),this.gameUpdate(),this.soundOn=!0}},{key:"mute",value:function(){this.soundOn?(this.soundOn=!1,this.bubble.mute=!0,this.gameMusic.stop()):(this.soundOn=!0,this.bubble.mute=!1,this.gameMusic.play())}},{key:"deleteItem",value:function(t){var e;switch(t.constructor.name){case"Bird":e=this.birds.indexOf(t),this.birds.splice(e,1),this.clips.push(new l);break;case"Poop":e=this.poops.indexOf(t),this.poops.splice(e,1),this.clips.push(new l);break;case"Shield":e=this.shields.indexOf(t),this.shields.splice(e,1)}}},{key:"clipCollision",value:function(t){var e=this.clips.indexOf(t);this.clips.splice(e,1),this.bubble.score+=1,!1===this.playerIsProtected?(this.bubble.bubbleHealth-=1,this.soundOn&&this.bubble.sound.play()):this.soundOn&&this.deadSound.play()}},{key:"birdCollision",value:function(t){console.log("bird collision");var e=this.birds.indexOf(t);this.birds.splice(e,1),this.deadX=t.x,this.deadY=t.y,this.bubble.score+=2,this.clouds.push(new p),!1===this.playerIsProtected?(this.bubble.bubbleHealth-=1,this.soundOn&&this.bubble.sound.play()):this.soundOn&&this.deadSound.play()}},{key:"bossCollision",value:function(t){this.soundOn&&this.fartSound.play(),!1===this.playerIsProtected&&(this.bubble.bubbleHealth-=1),t.bossHealth--,t.bossHealth<=0&&(this.bubble.score+=100,this.win=!0)}},{key:"poopCollision",value:function(t){var e=this.poops.indexOf(t);this.poops.splice(e,1),this.deadX=t.x,this.deadY=t.y,this.clouds.push(new p),this.bubble.score+=2,!1===this.playerIsProtected?(this.bubble.bubbleHealth-=1,this.soundOn&&this.bubble.sound.play()):this.soundOn&&this.deadSound.play()}},{key:"bubblesCollision",value:function(t){var e=this.bubbles.indexOf(t);this.bubbles.splice(e,1),this.bubble.score+=5,!1===this.playerIsProtected&&(this.bubble.bubbleHealth=2,this.soundOn&&this.bubblesSound.play())}},{key:"shieldCollision",value:function(t){var e=this.shields.indexOf(t);this.shields.splice(e,1),this.bubble.bubbleHealth=50,this.bubble.score+=50,this.playerIsProtected=!0,this.protectedFrame=0,this.soundOn&&this.bubblesSound.play()}},{key:"pooping",value:function(t){var e,i;this.poopFrame>15&&(e=t.x,i=t.y,this.poops.push(new f),this.poops[this.poops.length-1].startPosition(e,i),this.poopFrame=0)}},{key:"detectAnyCollision",value:function(t){var e=t.constructor.name,i=t.y,s=t.y+t.height,n=t.x,h=t.x+t.width,o=this.bubble.bubbleY,a=this.bubble.bubbleY+this.bubble.bubbleHeight,l=this.bubble.bubbleX;if(n<=this.bubble.bubbleX+this.bubble.bubbleWidth&&h>=l&&i<=a&&s>=o)switch(e){case"Clip":this.clipCollision(t);break;case"Bird":this.birdCollision(t);break;case"Boss":this.bossCollision(t);break;case"Poop":this.poopCollision(t);break;case"Bubbles":this.bubblesCollision(t);break;case"Shield":this.shieldCollision(t)}(t.x>875||t.y>500)&&this.deleteItem(t)}},{key:"gameUpdate",value:function(){var t=this;!0===this.playing&&(this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.bubble.newPos(),this.bubble.drawBubble(this.ctx),this.shieldFrame+=1,this.bossFrame+=1,this.soundOn?this.gameMusic.play():this.gameMusic.stop(),this.playerIsProtected&&(this.protectedFrame+=1),this.bubble.score>500&&(this.boss.bossMove(),this.boss.drawBoss(this.ctx),this.detectAnyCollision(this.boss),this.gameMusic.stop(),this.soundOn&&this.bossMusic.play()),this.clips.forEach((function(e){e.drawClip(t.ctx)})),this.birds.forEach((function(e){e.drawBird(t.ctx),t.pooping(e)})),this.clouds.forEach((function(e){e.drawCloud(t.ctx,t.deadX,t.deadY)})),this.bubbles.forEach((function(e){e.drawBubbles(t.ctx,t.deadX,t.deadY)})),this.shields.forEach((function(e){e.drawShield(t.ctx)})),this.poops.forEach((function(e){e.drawPoop(t.ctx)})),this.bossFrame>75&&(this.birds.push(new c),this.soundOn&&this.birdSound.play(),this.bossFrame=0),this.birds.length>0&&(this.poopFrame+=1),this.clouds.length>0&&(this.cloudFrame+=1),this.cloudFrame>25&&(this.clouds.shift(),this.bubbles.push(new u),this.cloudFrame=0),this.shieldFrame>100&&(this.shields.push(new g),this.shieldFrame=0),this.protectedFrame>300&&(this.playerIsProtected=!1,this.bubble.bubbleHealth=2,this.protectedFrame=0),this.clips.forEach((function(e){t.detectAnyCollision(e)})),this.birds.forEach((function(e){t.detectAnyCollision(e)})),this.bubbles.forEach((function(e){t.detectAnyCollision(e)})),this.shields.forEach((function(e){t.detectAnyCollision(e)})),this.poops.forEach((function(e){t.detectAnyCollision(e)})),this.win&&(this.winScreen(this.ctx),this.gameMusic.stop(),this.bossMusic.stop()),this.gameOver()&&(this.endGame(this.ctx),this.gameMusic.stop(),this.bossMusic.stop()),this.updateScore(),this.frameId=requestAnimationFrame(this.gameUpdate))}},{key:"updateScore",value:function(){this.bubble.score+=.01558;var t=Math.round(this.bubble.score);this.scoreCount.innerText="Score: ".concat(t)}},{key:"winScreen",value:function(t){this.playing=!1;var e=new Image;e.src="./images/youwin.png",e.onload=function(){t.drawImage(e,0,0,900,500)},this.soundOn&&this.winSound.play(),this.muteDisplay()}},{key:"gameOver",value:function(){return this.bubble.bubbleHealth<1}},{key:"endGame",value:function(t){this.playing=!1;var e=new Image;e.src="./images/Game_Over.png",e.onload=function(){t.drawImage(e,0,0,900,500)},this.soundOn&&this.loseSound.play(),this.muteDisplay()}},{key:"muteDisplay",value:function(){this.playing||(document.getElementById("muteButton").style.display="none")}}])&&k(e.prototype,i),s&&k(e,s),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("myCanvas"),e=new x(t);document.getElementById("new-game").addEventListener("click",(function(t){t.preventDefault(),e.restart(),s()}));var i=document.getElementById("muteButton");i.addEventListener("click",(function(t){t.preventDefault(),s(),e.playing&&(e.mute(),i.classList.toggle("muted"))}));var s=function(){e.playing||(i.style.display="none"),e.playing&&(i.style.display="flex")};s();var n=document.getElementById("modal"),h=document.getElementById("modal2"),o=document.getElementById("modal-trigger"),a=document.getElementById("modal-trigger-2");o.addEventListener("click",(function(t){t.preventDefault(),n.style.display="flex"})),a.addEventListener("click",(function(t){t.preventDefault(),h.style.display="flex"})),window.onclick=function(t){t.target==n&&(n.style.display="none"),t.target==h&&(h.style.display="none")}}))}]);
//# sourceMappingURL=main.js.map